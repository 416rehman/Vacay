<link rel="stylesheet" href="/css/pages/listings/listings.css">
<link rel="stylesheet" href="/css/partials/listing-card.css">
<link rel="stylesheet" href="/css/partials/pagination.css">
<div class="listings">
    <div class="sidebar">
        <form action="/listings" method="get" id="filtersForm">
            <label for="type">Property Type</label>
            <select name="type" class="harmonyInput">
                {{#each types}}
                    <option value="{{this._id}}">{{this.name}}</option>
                {{/each}}
            </select>

            <label for="location">Location</label>
            <select name="location">
                {{#each locations}}
                    <option value="{{this._id}}">{{#if this._id}}{{concat this.location " | " this.country}}{{/if}}</option>
                {{/each}}
            </select>

            <div>
                <span>Rooms</span>
                <input type="text" id="beds" name="beds" placeholder="Bedrooms">
                <input type="text" id="bathrooms" name="bathrooms" placeholder="Bathrooms">
            </div>

            <div id="price">
                <span>Price</span>
                <div>
                    <input type="text" name="min_price" id="min_price" placeholder="Min">
                    <input type="text" name="max_price" id="max_price" placeholder="Max">
                </div>
            </div>

            <div id="amenities">
                <span>Amenities</span>
                <div>
                    <input type="checkbox" id="pool" name="amenities" value="Swimming Pool">
                    <label for="pool"> Swimming Pool</label>
                </div>
                <div>
                    <input type="checkbox" id="wifi" name="amenities" value="Wifi">
                    <label for="wifi"> Wifi</label>
                </div>
                <div>
                    <input type="checkbox" id="ac" name="amenities" value="Air Conditioning">
                    <label for="ac"> Air Conditioning</label>
                </div>
                <div>
                    <input type="checkbox" id="parking" name="amenities" value="Free Parking">
                    <label for="parking"> Free Parking</label>
                </div>
                <div>
                    <input type="checkbox" id="tv" name="amenities" value="TV">
                    <label for="tv"> TV</label>
                </div>
                <div>
                    <input type="checkbox" id="heater" name="amenities" value="Heater">
                    <label for="heater"> Heater</label>
                </div>
                <div>
                    <input type="checkbox" id="pets" name="amenities" value="Pet Friendly">
                    <label for="pets"> Pet Friendly</label>
                </div>
            </div>
            <hr>
            <button type="submit">Filter</button>
        </form>
    </div>
    <div class="listings-container">
        <h1>{{listings.count}} Listings</h1>
        <button id="filterToggle"><i class="fas fa-filter"></i> Filter</button>
        {{> pagination page=listings.page pages=listings.pages path="/listings/?page="}}
        <div class="listing-cards-container">
            {{#each listings.results}}
                {{> listing-card this}}
            {{/each}}
        </div>
    </div>
</div>
<script src="/js/listings.js"></script>

